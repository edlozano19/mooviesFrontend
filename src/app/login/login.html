<div class="form-container">
    <div class="form-card">
        <h1>Login to Moovies</h1>
        <p>Sign in to access your personalized movie experience</p>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="form">
            <div class="form-group">
                @if (errorMessage()) {
                    <div class="alert alert-error">
                        {{ errorMessage() }}
                    </div>
                }

                <label for="username">Username</label>
                @if (isFieldInvalid('username')) {
                    <div class="error-message">{{ getFieldError('username') }}</div>
                }
                <input
                    type="text"
                    id="username"
                    formControlName="username"
                    class="form-control"
                    [class.error]="isFieldInvalid('username')"
                    placeholder="Enter your username"
                />
            </div>

            <div class="form-group">
                <label for="password">Password</label>
                @if (isFieldInvalid('password')) {
                    <div class="error-message">{{ getFieldError('password') }}</div>
                }
                <input
                    type="password"
                    id="password"
                    formControlName="password"
                    class="form-control"
                    [class.error]="isFieldInvalid('password')"
                    placeholder="Enter your password"
                />
            </div>

            <button
                type="submit"
                class="btn btn-primary btn-full"
                [disabled]="isLoading()"
            >   
                @if (isLoading()) {
                    Loggin in...
                }
                @else {
                    Login
                }
            </button>
        </form>

        <div class="form-footer">
            <p>Dont't have an account? <a routerLink="/register">Sign up</a></p>
        </div>
    </div>
</div>